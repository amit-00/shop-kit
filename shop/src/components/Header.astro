---
import CartBadge from "./CartBadge";
---

<header class="border-t border-b border-base-300 bg-base-100 py-4">
  <div class="max-w-6xl mx-auto px-8 flex items-center justify-between md:px-4">
    <div
      class="font-semibold text-2xl text-base-content uppercase tracking-wide"
    >
      MINIMAL
    </div>
    <nav class="hidden md:flex gap-8 items-center">
      <a
        href="/shop"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        Shop
      </a>
      <a
        href="/collections"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        Collections
      </a>
      <a
        href="/about"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        About
      </a>
    </nav>
    <div class="flex gap-4 items-center">
      <CartBadge client:load />
      <button
        id="mobile-menu-button"
        class="md:hidden bg-transparent border-none cursor-pointer p-2 flex items-center justify-center"
        aria-label="Menu"
        aria-expanded="false"
      >
        <svg
          id="menu-icon"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="w-6 h-6 text-base-content"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
        <svg
          id="close-icon"
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
          class="w-6 h-6 text-base-content hidden"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    </div>
  </div>
  <nav
    id="mobile-menu"
    class="hidden md:hidden border-t border-base-300 bg-base-100 py-4"
  >
    <div class="max-w-6xl mx-auto px-8 md:px-4 flex flex-col gap-4">
      <a
        href="/shop"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        Shop
      </a>
      <a
        href="/collections"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        Collections
      </a>
      <a
        href="/about"
        class="text-base-content/60 hover:text-base-content transition-colors text-sm no-underline"
      >
        About
      </a>
    </div>
  </nav>
</header>

<script>
  const menuButton = document.getElementById("mobile-menu-button");
  const mobileMenu = document.getElementById("mobile-menu");
  const menuIcon = document.getElementById("menu-icon");
  const closeIcon = document.getElementById("close-icon");

  if (menuButton && mobileMenu && menuIcon && closeIcon) {
    menuButton.addEventListener("click", () => {
      const isOpen = mobileMenu.classList.contains("hidden");

      if (isOpen) {
        mobileMenu.classList.remove("hidden");
        menuIcon.classList.add("hidden");
        closeIcon.classList.remove("hidden");
        menuButton.setAttribute("aria-expanded", "true");
      } else {
        mobileMenu.classList.add("hidden");
        menuIcon.classList.remove("hidden");
        closeIcon.classList.add("hidden");
        menuButton.setAttribute("aria-expanded", "false");
      }
    });
  }
</script>
